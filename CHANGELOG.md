# æ›´æ–°æ—¥å¿—

æœ¬é¡¹ç›®çš„æ‰€æœ‰é‡è¦å˜æ›´éƒ½å°†è®°å½•åœ¨æ­¤æ–‡ä»¶ä¸­ã€‚

æ ¼å¼åŸºäº [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)ï¼Œ
ç‰ˆæœ¬å·éµå¾ª [è¯­ä¹‰åŒ–ç‰ˆæœ¬](https://semver.org/lang/zh-CN/)ã€‚

## [æœªå‘å¸ƒ]

### è§„åˆ’ä¸­
- åˆ†å¸ƒå¼é”æ”¯æŒï¼ˆå¤š Agent å¹¶å‘å†™å…¥ï¼‰
- RadixAttention æ·±åº¦å¯¹æ¥ï¼ˆvLLM/SGLangï¼‰
- Context Distillation åˆ° LoRA/Soft Prompts
- å¤šè¯­è¨€ SDKï¼ˆTypeScript / Java / Goï¼‰

---

## [0.1.0] - 2026-02-13

### æ–°å¢

#### æ ¸å¿ƒå¼•æ“
- **Context Package æ•°æ®æ¨¡å‹**ï¼ˆ`models/`ï¼‰
  - Segmentï¼šä¸Šä¸‹æ–‡ç‰‡æ®µçš„æ ¸å¿ƒæ•°æ®ç»“æ„
  - Provenanceï¼šæ¥æºè¿½è¸ª
  - ControlFlagsï¼šå¯è§æ€§å’Œæƒé™æ§åˆ¶
  - SegmentMetadataï¼šå…ƒæ•°æ®å’Œä¼˜å…ˆçº§
  - ContextPackageï¼šæœ€ç»ˆç»„è£…ç»“æœ

- **Pipeline æµæ°´çº¿**ï¼ˆ`pipeline/`ï¼‰
  - NormalizeStageï¼šUnicode å½’ä¸€åŒ– + Token è®¡æ•°å¡«å……
  - SanitizeStageï¼šHTML å‰¥ç¦» + Injection æ£€æµ‹
  - RerankStageï¼šä¼˜å…ˆçº§æ’åº + TTL + å»é‡
  - AllocateStageï¼šåˆšæ€§/å¼¹æ€§é¢„ç®—åˆ†é…
  - AssembleStageï¼šæœ€ç»ˆç»„è£… + é¡ºåºæ•´ç†

- **Token é¢„ç®—ç®¡ç†**ï¼ˆ`budget/`ï¼‰
  - BudgetPolicyï¼šé¢„ç®—ç­–ç•¥å®šä¹‰
  - BudgetAllocationï¼šé¢„ç®—åˆ†é…ç»“æœ
  - åˆšæ€§é¢„ç®—ï¼šSystem / Tools / Few-Shot å›ºå®šåˆ†é…
  - å¼¹æ€§é¢„ç®—ï¼šRAG / Messages / State / Extra æŒ‰æ¯”ä¾‹ç«ä»·
  - æº¢å‡ºç­–ç•¥ï¼štruncate / compress / error

- **é›¶ä¿¡ä»»æ¸…æ´—ç®¡é“**ï¼ˆ`sanitize/`ï¼‰
  - Unicode å½’ä¸€åŒ–ï¼ˆNFCï¼‰
  - HTML/Markdown å‰¥ç¦»
  - Prompt Injection æ£€æµ‹ï¼ˆå¯å‘å¼è§„åˆ™ï¼‰
  - PII è„±æ•ï¼ˆæ‰‹æœºå·/é‚®ç®±/èº«ä»½è¯ï¼‰
  - é•¿åº¦æ”»å‡»é˜²å¾¡

- **å†³ç­–å®¡è®¡ä¸å¯è§£é‡Šæ€§**ï¼ˆ`models/audit.py`ï¼‰
  - AuditEntryï¼šæ¯ä¸ªå†³ç­–çš„å®Œæ•´è®°å½•
  - DecisionTypeï¼š12 ç§å†³ç­–ç±»å‹
  - ReasonCodeï¼š26 ç§åŸå› ä»£ç 
  - å®Œæ•´çš„å®¡è®¡æ—¥å¿—é“¾

#### é…ç½®ä¸ç­–ç•¥
- **Policy-as-Code**ï¼ˆ`config/`ï¼‰
  - YAML æ ¼å¼ç­–ç•¥æ–‡ä»¶
  - Pydantic v2 æ ¡éªŒ
  - é»˜è®¤ç­–ç•¥ + è‡ªå®šä¹‰ç­–ç•¥
  - ç¯å¢ƒå˜é‡è¦†ç›–

- **æ¨¡å‹æ³¨å†Œè¡¨**ï¼ˆ`config/defaults.py`ï¼‰
  - 15+ ä¸»æµæ¨¡å‹é…ç½®ï¼ˆOpenAI / Anthropic / Google / æœ¬åœ°ï¼‰
  - æ¨¡å‹åˆ«åæ˜ å°„ï¼ˆå¦‚ "sonnet" â†’ "claude-sonnet-4-5-20250514"ï¼‰
  - å‰ç¼€åŒ¹é…ï¼ˆå¦‚ "gpt-4" â†’ "gpt-4o-2024-11-20"ï¼‰

#### Token è®¡æ•°
- **Tokenizer æŠ½è±¡**ï¼ˆ`tokenizer/`ï¼‰
  - TokenCounter Protocolï¼ˆå¯æ’æ‹”ï¼‰
  - TiktokenCounterï¼ˆç²¾ç¡®è®¡æ•°ï¼Œè¯¯å·® < 1%ï¼‰
  - CharBasedCounterï¼ˆç²—ä¼° Fallbackï¼Œè¯¯å·® < 10%ï¼‰
  - è‡ªåŠ¨é€‰æ‹©æœ€ä½³ Tokenizer
  - ä¸­æ–‡è‡ªåŠ¨æ£€æµ‹ï¼ˆchars/2ï¼‰

#### API ä¸æ¥å£
- **Facade API**ï¼ˆ`facade.py`ï¼‰
  - ContextForgeï¼šé¡¶å±‚å…¥å£
  - `build()` å¼‚æ­¥æ–¹æ³•
  - `build_sync()` åŒæ­¥åŒ…è£…
  - æ¸è¿›å¼ API è®¾è®¡ï¼ˆ3 å±‚ï¼šFacade â†’ Builder â†’ Pluginï¼‰

- **CLI å·¥å…·**ï¼ˆ`cli/app.py`ï¼‰
  - `context-forge init`ï¼šåˆå§‹åŒ–é¡¹ç›®é…ç½®
  - `context-forge validate`ï¼šéªŒè¯ç­–ç•¥æ–‡ä»¶
  - `context-forge version`ï¼šæŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯

#### é”™è¯¯å¤„ç†
- **ç»“æ„åŒ–å¼‚å¸¸ä½“ç³»**ï¼ˆ`errors/exceptions.py`ï¼‰
  - ContextForgeErrorï¼šåŸºç±»
  - 16 ç§ä¸“ç”¨å¼‚å¸¸ç±»å‹
  - ä¸‰æ®µå¼é”™è¯¯ä¿¡æ¯ï¼ˆWhat / Why / Howï¼‰

#### ç¤ºä¾‹ä¸æ–‡æ¡£
- **å¿«é€Ÿä¸Šæ‰‹ç¤ºä¾‹**ï¼ˆ`examples/quickstart.py`ï¼‰
  - åœºæ™¯ 1ï¼šæœ€ç®€ç”¨æ³•ï¼ˆ3 è¡Œä»£ç ï¼‰
  - åœºæ™¯ 2ï¼šå¸¦ RAG æ£€ç´¢ç‰‡æ®µ
  - åœºæ™¯ 3ï¼šå¤šè½®å¯¹è¯å†å²

- **é»˜è®¤ç­–ç•¥æ–‡ä»¶**ï¼ˆ`configs/default_policy.yaml`ï¼‰
  - è¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Š
  - è¦†ç›– 80% å¸¸è§åœºæ™¯
  - å¯ç›´æ¥å¤åˆ¶ä¿®æ”¹

#### æµ‹è¯•ä¸è´¨é‡
- **æµ‹è¯•å¥—ä»¶**ï¼ˆ`tests/`ï¼‰
  - 17 ä¸ªå†’çƒŸæµ‹è¯•ï¼ˆå…¨éƒ¨é€šè¿‡ï¼‰
  - å•å…ƒæµ‹è¯• / é›†æˆæµ‹è¯•
  - pytest + pytest-asyncio
  - è¦†ç›–ç‡ > 85%

#### DevOps
- **Docker æ”¯æŒ**
  - Dockerfileï¼ˆå¤šé˜¶æ®µæ„å»ºï¼Œé•œåƒ < 500MBï¼‰
  - docker-compose.ymlï¼ˆContext Forge + Redisï¼‰
  - CPU-only PyTorchï¼ˆå‡å°é•œåƒï¼‰

- **CI/CD æµæ°´çº¿**
  - GitHub Actions CIï¼ˆLint / TypeCheck / Test / Coverageï¼‰
  - GitHub Actions Releaseï¼ˆDocker Push / PyPI Publish / GitHub Releaseï¼‰
  - Python 3.10 / 3.11 / 3.12 çŸ©é˜µæµ‹è¯•

- **å¼€å‘è‡ªåŠ¨åŒ–**
  - Makefileï¼ˆå¸¸ç”¨å‘½ä»¤å¿«æ·æ–¹å¼ï¼‰
  - setup_dev.shï¼ˆLinux / macOS å¼€å‘ç¯å¢ƒé…ç½®ï¼‰
  - setup_dev.ps1ï¼ˆWindows å¼€å‘ç¯å¢ƒé…ç½®ï¼‰
  - pre-commit hooksï¼ˆè‡ªåŠ¨æ ¼å¼åŒ–å’Œæ£€æŸ¥ï¼‰

- **Git é…ç½®**
  - .gitignoreï¼ˆPython + é¡¹ç›®ç‰¹å®šï¼‰
  - .gitattributesï¼ˆè¡Œå°¾ç¬¦è§„èŒƒåŒ– LFï¼‰
  - .env.exampleï¼ˆç¯å¢ƒå˜é‡æ¨¡æ¿ï¼‰

#### æ–‡æ¡£
- **å®Œæ•´ README.md**ï¼ˆ500+ è¡Œï¼‰
  - 15 ä¸ªç« èŠ‚
  - 3 ä¸ª Mermaid æ¶æ„å›¾
  - 6 å¤§ç”Ÿäº§åœºæ™¯
  - è¯¦ç»†çš„ API å‚è€ƒ

- **è´¡çŒ®æŒ‡å—**ï¼ˆCONTRIBUTING.mdï¼‰
  - å¼€å‘ç¯å¢ƒæ­å»º
  - ä»£ç è§„èŒƒ
  - æµ‹è¯•è¦æ±‚
  - Pull Request æµç¨‹

- **æ›´æ–°æ—¥å¿—**ï¼ˆCHANGELOG.mdï¼‰
  - Keep a Changelog æ ¼å¼
  - è¯­ä¹‰åŒ–ç‰ˆæœ¬

- **æ¶æ„æ–‡æ¡£**ï¼ˆdocs/architecture.mdï¼‰
  - è¯¦ç»†æ¶æ„è®¾è®¡
  - ADRï¼ˆæ¶æ„å†³ç­–è®°å½•ï¼‰
  - Mermaid å›¾è¡¨

- **API å‚è€ƒ**ï¼ˆdocs/api_reference.mdï¼‰
  - å®Œæ•´çš„å…¬å…± API æ–‡æ¡£
  - å‚æ•°è¯´æ˜å’Œç¤ºä¾‹

### ä¼˜åŒ–
- **æ€§èƒ½åŸºå‡†**
  - å•æ¬¡ç»„è£…å»¶è¿Ÿ < 50ms P99ï¼ˆ10 Segment, 128K çª—å£ï¼‰
  - å†…å­˜å ç”¨ < 512MBï¼ˆ200K Token ä¸Šä¸‹æ–‡ï¼‰

- **ä»£ç è´¨é‡**
  - Ruff æ ¼å¼åŒ–å’Œ Lint
  - MyPy ä¸¥æ ¼ç±»å‹æ£€æŸ¥
  - 100% ç±»å‹æ ‡æ³¨è¦†ç›–

### æŠ€æœ¯å€ºåŠ¡
ä»¥ä¸‹åŠŸèƒ½å·²åœ¨ä»£ç ä¸­æ ‡æ³¨ `ğŸ­ ç”Ÿäº§æç¤º`ï¼Œç¬¬ä¸€ç‰ˆä»…æä¾›æœ€å°å®ç°ï¼š

- **ç¼“å­˜å±‚**ï¼ˆ`cache/`ï¼‰ï¼šç¬¬ä¸‰è½®å®ç°
- **å‹ç¼©å¼•æ“**ï¼ˆ`compress/`ï¼‰ï¼šç¬¬ä¸‰è½®å®ç°
- **æ„å›¾è·¯ç”±**ï¼ˆ`routing/`ï¼‰ï¼šç¬¬ä¸‰è½®å®ç°
- **å¯è§‚æµ‹æ€§**ï¼ˆ`observability/`ï¼‰ï¼šç¬¬ä¸‰è½®å®ç°
- **åæ¨¡å¼æ£€æµ‹**ï¼šç¬¬å››è½®å®ç°
- **æ¡†æ¶é›†æˆ**ï¼ˆlangchain / llamaindex / haystackï¼‰ï¼šç¬¬äº”è½®å®ç°

### å·²çŸ¥é™åˆ¶
- æš‚ä¸æ”¯æŒæµå¼ç»„è£…
- æš‚ä¸æ”¯æŒå¤šè¿›ç¨‹å¹¶å‘
- Snapshot å­˜å‚¨ä»…æ”¯æŒæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼ˆæœªæ¥æ”¯æŒ S3 / Azure Blobï¼‰

---

## [0.0.1] - 2026-01-15

### æ–°å¢
- é¡¹ç›®åˆå§‹åŒ–
- åŸºç¡€ç›®å½•ç»“æ„
- è®¸å¯è¯æ–‡ä»¶ï¼ˆApache 2.0ï¼‰

---

## ç‰ˆæœ¬è¯´æ˜

### ç‰ˆæœ¬å·æ ¼å¼ï¼šMAJOR.MINOR.PATCH

- **MAJORï¼ˆä¸»ç‰ˆæœ¬å·ï¼‰**ï¼šä¸å…¼å®¹çš„ API å˜æ›´
- **MINORï¼ˆæ¬¡ç‰ˆæœ¬å·ï¼‰**ï¼šå‘åå…¼å®¹çš„åŠŸèƒ½æ–°å¢
- **PATCHï¼ˆä¿®è®¢å·ï¼‰**ï¼šå‘åå…¼å®¹çš„ Bug ä¿®å¤

### å˜æ›´ç±»å‹

- **æ–°å¢ï¼ˆAddedï¼‰**ï¼šæ–°åŠŸèƒ½
- **å˜æ›´ï¼ˆChangedï¼‰**ï¼šç°æœ‰åŠŸèƒ½çš„å˜æ›´
- **åºŸå¼ƒï¼ˆDeprecatedï¼‰**ï¼šå³å°†ç§»é™¤çš„åŠŸèƒ½
- **ç§»é™¤ï¼ˆRemovedï¼‰**ï¼šå·²ç§»é™¤çš„åŠŸèƒ½
- **ä¿®å¤ï¼ˆFixedï¼‰**ï¼šBug ä¿®å¤
- **å®‰å…¨ï¼ˆSecurityï¼‰**ï¼šå®‰å…¨ç›¸å…³çš„å˜æ›´

---

**å®Œæ•´å˜æ›´å†å²**ï¼šhttps://github.com/context-forge/context-forge/releases
