# Context Forge 环境变量模板
# 复制此文件为 .env 并填入实际值（.env 已在 .gitignore 中，不会提交到 Git）

# ===== LLM API 密钥（可选，默认使用 Mock 模式）=====
# OpenAI API
OPENAI_API_KEY=sk-xxx
OPENAI_BASE_URL=https://api.openai.com/v1

# Anthropic API
ANTHROPIC_API_KEY=sk-ant-xxx

# Google AI (Gemini)
GOOGLE_API_KEY=AIzaxxx

# Azure OpenAI
AZURE_OPENAI_API_KEY=xxx
AZURE_OPENAI_ENDPOINT=https://xxx.openai.azure.com/
AZURE_OPENAI_DEPLOYMENT=gpt-4o
AZURE_OPENAI_API_VERSION=2024-02-15-preview

# 本地模型 API（Ollama / vLLM / LM Studio）
LOCAL_MODEL_BASE_URL=http://localhost:11434/v1

# ===== Redis 配置（缓存和分布式锁）=====
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_URL=redis://localhost:6379/0

# ===== 可观测性配置 =====
# OpenTelemetry Collector
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=context-forge
OTEL_TRACES_EXPORTER=otlp
OTEL_METRICS_EXPORTER=otlp
OTEL_LOGS_EXPORTER=otlp

# Jaeger（分布式追踪）
JAEGER_AGENT_HOST=localhost
JAEGER_AGENT_PORT=6831

# Prometheus（指标）
PROMETHEUS_PUSHGATEWAY_URL=http://localhost:9091

# ===== Context Forge 行为配置 =====
# 默认模型
CONTEXT_FORGE_DEFAULT_MODEL=gpt-4o

# 是否启用缓存（默认：false）
CONTEXT_FORGE_ENABLE_CACHE=false

# 缓存 TTL（秒，默认：3600 = 1 小时）
CONTEXT_FORGE_CACHE_TTL=3600

# 日志级别（DEBUG / INFO / WARNING / ERROR）
CONTEXT_FORGE_LOG_LEVEL=INFO

# 日志输出路径（留空则输出到 stderr）
CONTEXT_FORGE_LOG_FILE=

# 是否启用审计日志（默认：true）
CONTEXT_FORGE_ENABLE_AUDIT=true

# 审计日志存储路径
CONTEXT_FORGE_AUDIT_DIR=.context_forge/audit

# 是否启用可观测性（默认：false）
CONTEXT_FORGE_ENABLE_OBSERVABILITY=false

# Context Snapshot 存储路径
CONTEXT_FORGE_SNAPSHOT_DIR=.context_forge/snapshots

# ===== 性能调优 =====
# Token 计数并发数（默认：10）
CONTEXT_FORGE_TOKEN_COUNT_CONCURRENCY=10

# Pipeline 超时（秒，默认：30）
CONTEXT_FORGE_PIPELINE_TIMEOUT=30

# 最大 Segment 数量（防止内存溢出，默认：10000）
CONTEXT_FORGE_MAX_SEGMENTS=10000

# ===== CLI 服务器配置 =====
# HTTP 服务器监听地址
CONTEXT_FORGE_SERVER_HOST=0.0.0.0
CONTEXT_FORGE_SERVER_PORT=8000

# 是否启用 CORS（跨域，默认：true）
CONTEXT_FORGE_ENABLE_CORS=true

# 允许的跨域来源（逗号分隔，* 表示全部）
CONTEXT_FORGE_CORS_ORIGINS=*

# ===== 开发环境配置 =====
# 是否启用开发模式（热重载、详细日志等，默认：false）
CONTEXT_FORGE_DEV_MODE=false

# 是否启用性能分析（默认：false）
CONTEXT_FORGE_ENABLE_PROFILING=false

# ===== 测试配置 =====
# 测试时是否使用 Mock LLM（默认：true）
CONTEXT_FORGE_TEST_USE_MOCK=true

# 测试超时（秒，默认：10）
CONTEXT_FORGE_TEST_TIMEOUT=10
